<!DOCTYPE html> 
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Party Vtƒõrka</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0f0f23;
            --bg-secondary: #1a1a2e;
            --bg-card: #16213e;
            --accent-primary: #e94560;
            --accent-secondary: #ff6b6b;
            --accent-glow: rgba(233, 69, 96, 0.4);
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #6b6b80;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background-image: 
                radial-gradient(ellipse at 20% 20%, rgba(233, 69, 96, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(107, 107, 255, 0.1) 0%, transparent 50%);
        }

        .container {
            width: 100%;
            max-width: 400px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 40px var(--accent-glow);
            letter-spacing: -1px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .card {
            background: var(--bg-card);
            border-radius: 24px;
            padding: 28px;
            box-shadow: 
                0 4px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            color: var(--text-secondary);
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        input[type="number"] {
            width: 100%;
            padding: 16px 20px;
            font-size: 1.1rem;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            background: var(--bg-secondary);
            border: 2px solid transparent;
            border-radius: 14px;
            color: var(--text-primary);
            transition: all 0.3s ease;
            -webkit-appearance: none;
            -moz-appearance: textfield;
            appearance: none;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 4px var(--accent-glow);
        }

        input[type="number"]::placeholder {
            color: var(--text-muted);
        }

        .button {
            width: 100%;
            padding: 18px;
            font-size: 1.1rem;
            font-family: 'Nunito', sans-serif;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border: none;
            border-radius: 14px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px var(--accent-glow);
            margin-top: 10px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px var(--accent-glow);
        }

        .button:active {
            transform: translateY(0);
        }

        .result-container {
            display: none;
            margin-top: 24px;
            text-align: center;
        }

        .result-container.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-label {
            color: var(--text-muted);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
        }

        .result-word {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-primary);
            padding: 24px;
            background: linear-gradient(135deg, rgba(233, 69, 96, 0.15), rgba(107, 107, 255, 0.15));
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            line-height: 1.4;
        }

        .hint {
            margin-top: 16px;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            color: var(--text-secondary);
            font-size: 0.85rem;
            font-weight: 600;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            margin: 20px 0;
        }

        .info-text {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.75rem;
            margin-top: 20px;
            line-height: 1.5;
        }

        /* Hide spinner buttons on number inputs */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            appearance: none;
            margin: 0;
        }

        @media (max-width: 380px) {
            .logo {
                font-size: 2rem;
            }
            
            .card {
                padding: 20px;
            }
            
            .result-word {
                font-size: 1.3rem;
                padding: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">Party Vtƒõrka</div>
            <div class="subtitle">Najdi toho, kdo je jin√Ω!</div>
        </div>

        <div class="card">
            <div class="form-group">
                <label>Tvoje ID hr√°ƒçe</label>
                <input type="number" id="playerId" placeholder="1, 2, 3..." min="1" inputmode="numeric">
            </div>

            <div class="divider"></div>

            <div class="input-row">
                <div class="form-group">
                    <label>ƒå√≠slo kola</label>
                    <input type="number" id="roundNumber" placeholder="1" min="1" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label>Poƒçet hr√°ƒç≈Ø</label>
                    <input type="number" id="playerCount" placeholder="4" min="3" inputmode="numeric">
                </div>
            </div>

            <button class="button" onclick="reveal()">Vylosovat</button>

            <div class="result-container" id="resultContainer">
                <div class="result-label">Tvoje slovo je:</div>
                <div class="result-word" id="resultWord"></div>
                <div class="hint" id="hint"></div>
            </div>
        </div>

        <div class="info-text">
            V≈°ichni zadejte stejn√© ƒç√≠slo kola a poƒçet hr√°ƒç≈Ø.<br>
            Ka≈æd√Ω zad√° sv√© unik√°tn√≠ ID hr√°ƒçe (1 a≈æ poƒçet hr√°ƒç≈Ø).
        </div>
    </div>

    <script>
        const phrases = [
            "rozlouƒçen√≠ se svobodou v Las Vegas",
            "nat√°ƒçen√≠ videa pro OnlyFans",
            "z√°≈æitkov√Ω let st√≠haƒçkou",
            "kurz tance na tyƒçi pro zaƒç√°teƒçn√≠ky",
            "setk√°n√≠ anonymn√≠ch alkoholik≈Ø",
            "n√°kup v IKEA o v√≠kendu",
            "vyb√≠r√°n√≠ d√°rku pro tchyni",
            "focen√≠ novorozeneck√Ωch portr√©t≈Ø",
            "zkou≈°en√≠ svatebn√≠ch ≈°at≈Ø",
            "kolaudace rodinn√©ho domu",
            "grilov√°n√≠ na firemn√≠m teambuildu",
            "rozvodov√© ≈ô√≠zen√≠ u soudu",
            "prvn√≠ n√°v≈°tƒõva nudistick√© pl√°≈æe",
            "zkou≈°en√≠ parf√©m≈Ø v parfum√©rii",
            "ƒçek√°n√≠ na z√°chrance s pacientem",
            "stavƒõn√≠ v√°noƒçn√≠ho stromeƒçku",
            "pasen√≠ koz v hor√°ch",
            "konkurz na hlavn√≠ roli v muzik√°lu",
            "prezentace diplomov√© pr√°ce",
            "seznamka pro seniory",
            "tr√©nink p≈ôed boxersk√Ωm z√°pasem",
            "nat√°ƒçen√≠ cooking show",
            "prvn√≠ hodina salsy",
            "oprava praskl√©ho potrub√≠",
            "vyzved√°v√°n√≠ v√Ωhry v loterii",
            "noƒçn√≠ hl√≠dka na stavbƒõ",
            "p≈ô√≠prava na maturitu den p≈ôedem",
            "focen√≠ produkt≈Ø pro e-shop",
            "v√Ωbƒõr n√°hrobn√≠ho kamene",
            "porada p≈ôedstavenstva banky",
            "st√°≈æ v poh≈ôebn√≠m √∫stavu",
            "nat√°ƒçen√≠ rapov√©ho klipu",
            "p≈ôij√≠maƒçky do konzervato≈ôe",
            "proch√°zka se psy z √∫tulku",
            "v√Ωstava exotick√Ωch plaz≈Ø",
            "vy≈°et≈ôov√°n√≠ vra≈ædy na m√≠stƒõ ƒçinu",
            "kurz sommeli√©rstv√≠",
            "focen√≠ pro m√≥dn√≠ ƒçasopis",
            "transplantace ledviny",
            "otev≈ôen√≠ nov√© restaurace",
            "ƒçten√≠ z√°vƒõti u not√°≈ôe",
            "kurz vy≈ôez√°v√°n√≠ soch z ledu",
            "p≈ô√≠prava na bikini soutƒõ≈æ",
            "testov√°n√≠ nov√©ho parf√©mu na lidech",
            "nat√°ƒçen√≠ dokumentu o sekt√°ch",
            "vypro≈°≈•ov√°n√≠ auta ze snƒõhu",
            "zkou≈°en√≠ rol√≠ pro porno parodii",
            "veletrh svatebn√≠ch slu≈æeb",
            "tr√©nink z√°chran√°≈ôsk√Ωch ps≈Ø",
            "nat√°ƒçen√≠ reklamy na jogurt",
            "otev√≠r√°n√≠ √∫st≈ôic na veƒç√≠rku",
            "prvn√≠ den v nov√© pr√°ci",
            "√∫nos nevƒõsty na slovensk√© svatbƒõ",
            "semin√°≈ô o da≈àov√©m p≈ôizn√°n√≠",
            "zkou≈°en√≠ perel v luxusn√≠m klenotnictv√≠",
            "focen√≠ krajiny z vrtuln√≠ku",
            "mƒõ≈ôen√≠ na nov√Ω oblek",
            "recepce po k≈ôtu d√≠tƒõte",
            "z√°kulis√≠ p≈ôehl√≠dky spodn√≠ho pr√°dla",
            "p≈ô√≠prava rakety ke startu",
            "hodnocen√≠ v√≠n v soutƒõ≈æi",
            "nat√°ƒçen√≠ sc√©ny s kaskad√©ry",
            "v√Ωbƒõr psa v √∫tulku",
            "p≈ô√≠prava sv√°teƒçn√≠ veƒçe≈ôe pro 20 lid√≠",
            "prvn√≠ kolo pohovoru do Googlu",
            "vyhl√°≈°en√≠ v√≠tƒõze reality show",
            "n√°v≈°tƒõva v domƒõ senior≈Ø",
            "focen√≠ auta pro inzer√°t",
            "p≈ôedn√°≈°ka o sexu√°ln√≠ v√Ωchovƒõ",
            "p≈ô√≠prava oh≈àostroje na Nov√Ω rok",
            "ochutnavka ƒçokol√°dy v Belgii",
            "cviƒçen√≠ po≈æ√°rn√≠ evakuace",
            "p≈ôed√°v√°n√≠ Oscar≈Ø",
            "p≈ôij√≠m√°n√≠ do ≈ô√°du mnich≈Ø",
            "v√Ωmƒõna kola uprost≈ôed z√°vodu",
            "sch≈Øzka s exorcistou",
            "focen√≠ j√≠dla pro Instagram",
            "kurz bartendingu",
            "zkou≈°en√≠ ≈°at≈Ø na ples",
            "nat√°ƒçen√≠ videa pro YouTube"
        ];

        // Seeded random number generator
        function seededRandom(seed) {
            const x = Math.sin(seed) * 10000;
            return x - Math.floor(x);
        }

        // Generate a hash from multiple values
        function hashValues(round, playerCount) {
            return round * 1000 + playerCount * 31;
        }

        // Get phrases for a specific round (without considering previous rounds)
        function getBasePhrases(round, playerCount) {
            const baseSeed = hashValues(round, playerCount);
            const mainIndex = Math.floor(seededRandom(baseSeed + 1000) * phrases.length);
            let imposterIndex = Math.floor(seededRandom(baseSeed + 2000) * phrases.length);
            
            while (imposterIndex === mainIndex) {
                imposterIndex = (imposterIndex + 1) % phrases.length;
            }
            
            return { mainIndex, imposterIndex };
        }

        // Get phrases for a round, avoiding previous round's phrases
        function getPhrasesForRound(round, playerCount) {
            const baseSeed = hashValues(round, playerCount);
            let mainIndex = Math.floor(seededRandom(baseSeed + 1000) * phrases.length);
            let imposterIndex = Math.floor(seededRandom(baseSeed + 2000) * phrases.length);
            
            // Get previous round's phrases to avoid
            let forbidden = new Set();
            if (round > 1) {
                const prev = getPhrasesForRound(round - 1, playerCount);
                forbidden.add(prev.mainIndex);
                forbidden.add(prev.imposterIndex);
            }
            
            // Shift main phrase if it collides with previous round
            let attempts = 0;
            while (forbidden.has(mainIndex) && attempts < phrases.length) {
                mainIndex = (mainIndex + 1) % phrases.length;
                attempts++;
            }
            
            // Shift imposter phrase if it collides with main or previous round
            attempts = 0;
            while ((imposterIndex === mainIndex || forbidden.has(imposterIndex)) && attempts < phrases.length) {
                imposterIndex = (imposterIndex + 1) % phrases.length;
                attempts++;
            }
            
            return { mainIndex, imposterIndex };
        }

        function reveal() {
            const playerId = parseInt(document.getElementById('playerId').value);
            const roundNumber = parseInt(document.getElementById('roundNumber').value);
            const playerCount = parseInt(document.getElementById('playerCount').value);

            // Validation
            if (!playerId || !roundNumber || !playerCount) {
                alert('Vypl≈à pros√≠m v≈°echna pole!');
                return;
            }

            if (playerId < 1 || playerId > playerCount) {
                alert(`ID hr√°ƒçe mus√≠ b√Ωt mezi 1 a ${playerCount}!`);
                return;
            }

            if (playerCount < 3) {
                alert('Poƒçet hr√°ƒç≈Ø mus√≠ b√Ωt alespo≈à 3!');
                return;
            }

            // Determine the imposter (which player ID is the vtƒõrka)
            const baseSeed = hashValues(roundNumber, playerCount);
            const imposterIndex = Math.floor(seededRandom(baseSeed) * playerCount) + 1;

            // Get phrases for this round (avoiding previous round)
            const { mainIndex: mainPhraseIndex, imposterIndex: imposterPhraseIndex } = getPhrasesForRound(roundNumber, playerCount);

            const isImposter = playerId === imposterIndex;
            const resultWord = document.getElementById('resultWord');
            const hint = document.getElementById('hint');
            const resultContainer = document.getElementById('resultContainer');

            if (isImposter) {
                resultWord.textContent = phrases[imposterPhraseIndex];
            } else {
                resultWord.textContent = phrases[mainPhraseIndex];
            }
            
            hint.textContent = 'üîç Najdi toho, kdo m√° jin√© slovo!';

            resultContainer.classList.add('visible');
        }

        // Enter key support
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    reveal();
                }
            });
        });
    </script>
</body>
</html>

